<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="travelMainDAO">

	<typeAlias  alias="egovMap" type="egovframework.rte.psl.dataaccess.util.EgovMap"/>
    <typeAlias alias="travelMain" type="geocni.travel.route.domain.TravelMain" />
    
	<select id="travelMainDAO.selectBeachPerCnt" parameterClass="java.lang.String" resultClass="travelMain">
        <![CDATA[
			SELECT ETL_DT AS etlDt
			     , SEQ_ID AS seqId
			     , POI_NM AS poiNm
			     , UNIQ_POP AS uniqPop
			  FROM GEO_BEACH_CONGESTION
             WHERE ETL_DT = #datestr#
        ]]>
    </select>
    
     
     <select id="travelMainDAO.newselectBeachPerCnt" parameterClass="java.lang.String" resultClass="travelMain">
        <![CDATA[
			SELECT ETL_DT AS etlDt
			     , SEQ_ID AS seqId
			     , POI_NM AS poiNm
			     , UNIQ_POP AS uniqPop
			     , CONGESTION AS congestion
			  FROM GEO_BEACH_CONGESTION
             WHERE ETL_DT = #datestr#
        ]]>
    </select>
    
    
        
    <select id="travelMainDAO.selectBeachPerCntapi" parameterClass="java.lang.String" resultClass="egovMap">
        <![CDATA[
			SELECT ETL_DT AS etlDt
			     , SEQ_ID AS seqId
			     , POI_NM AS poiNm
			     , UNIQ_POP AS uniqPop
			     , CONGESTION AS congestion
			  FROM GEO_BEACH_CONGESTION
             WHERE ETL_DT = #datestr#
        ]]>
    </select>
    
    <insert id="travelMainDAO.insertBeachPer">
		<![CDATA[
			INSERT INTO GEO_BEACH_CONGESTION ( 
					ETL_DT 
			     , SEQ_ID 
			     , POI_NM 
			     , UNIQ_POP 
			     , CONGESTION
			) VALUES ( 
				  #etlDt#
				, #seqId#
				, #poiNm#
				, #uniqPop#
				, #congestion#
			)
		]]>
	</insert>
	
	<select id="travelMainDAO.selectCongestion" parameterClass="java.lang.String" resultClass="egovMap">
        <![CDATA[
			SELECT AREA AS area
			  FROM GEO_BEACH_INFO
        ]]>
    </select>
    
	

    
    
</sqlMap>
